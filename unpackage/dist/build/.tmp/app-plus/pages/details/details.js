(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/details/details"],{"072e":function(t,s,e){"use strict";var o=function(){var t=this,s=t.$createElement;t._self._c},i=[];e.d(s,"a",function(){return o}),e.d(s,"b",function(){return i})},"0b43":function(t,s,e){},"34af":function(t,s,e){"use strict";var o=e("0b43"),i=e.n(o);i.a},"59eb":function(t,s,e){"use strict";e.r(s);var o=e("cbb0"),i=e.n(o);for(var n in o)"default"!==n&&function(t){e.d(s,t,function(){return o[t]})}(n);s["default"]=i.a},cbb0:function(t,s,e){"use strict";(function(t,o){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i=function(){return e.e("components/YYT-popup/YYT-popup").then(e.bind(null,"1636"))},n={components:{popup:i},data:function(){return{autoplay:!0,interval:4e3,duration:1e3,circular:!0,host:"",imghost:"",goods_id:"",details:null,token:"",strings:"",openPopup:!1,openPopup2:!1,position:"",percent:0,currentType1:"",currentType2:"",currentType3:"",currentType4:"",priceType1:"",priceType2:"",goods_num1:1,goods_num2:1,goods_price1:0,goods_price2:0,goods_sku_id1:"",goods_sku_id2:""}},methods:{getOneGoods:function(){var s=this;t.request({url:this.host+"api/goods/detail?goods_id="+this.goods_id,data:{},header:{},method:"POST",dataType:"json",success:function(t){var e=t.data.data;s.details=e;var o=e.detail.content,i=new RegExp("<img","gi");o=o.replace(i,'<img style="width:100%;height:887rpx"'),s.strings=o}})},open:function(t){this.position=t,this.openPopup=!0,this.details.specData||(this.goods_price1=this.details.detail.spec[0].goods_price,this.goods_sku_id1=this.details.detail.spec[0].spec_sku_id)},close:function(){this.openPopup=!1},select1:function(t){var s=this;if(t!=this.currentType1){this.currentType1=t,this.priceType1=this.currentType1+"_"+this.currentType2;var e=this.details.specData.spec_list;e.forEach(function(t,o){t.spec_sku_id==s.priceType1&&e[o].spec_sku_id&&(s.goods_sku_id1=e[o].spec_sku_id,s.goods_price1=e[o].form.goods_price)})}},select2:function(t){var s=this;if(t!=this.currentType2){this.currentType2=t,this.priceType1=this.currentType1+"_"+this.currentType2;var e=this.details.specData.spec_list;e.forEach(function(t,o){t.spec_sku_id==s.priceType1&&e[o].spec_sku_id&&(s.goods_sku_id1=e[o].spec_sku_id,s.goods_price1=e[o].form.goods_price)})}},red1:function(){this.goods_num1<=1||this.goods_num1--},add1:function(){this.goods_num1++},addshopcart:function(t){this.position=t,this.openPopup2=!0,this.details.specData||(this.goods_price2=this.details.detail.spec[0].goods_price,this.goods_sku_id2=this.details.detail.spec[0].spec_sku_id)},close2:function(){this.openPopup2=!1},select3:function(t){var s=this;if(t!=this.currentType3){this.currentType3=t,this.priceType2=this.currentType3+"_"+this.currentType4;var e=this.details.specData.spec_list;e.forEach(function(t,o){t.spec_sku_id==s.priceType2&&e[o].spec_sku_id&&(s.goods_sku_id2=e[o].spec_sku_id,s.goods_price2=e[o].form.goods_price)})}},select4:function(t){var s=this;if(t!=this.currentType4){this.currentType4=t,this.priceType2=this.currentType3+"_"+this.currentType4;var e=this.details.specData.spec_list;e.forEach(function(t,o){t.spec_sku_id==s.priceType2&&e[o].spec_sku_id&&(s.goods_sku_id2=e[o].spec_sku_id,s.goods_price2=e[o].form.goods_price)})}},red2:function(){this.goods_num2<=1||this.goods_num2--},add2:function(){this.goods_num2++},addcart:function(){0!=this.goods_price2?(this.openPopup2=!1,t.request({url:this.host+"api/cart/add",data:{goods_id:this.goods_id,goods_num:this.goods_num2,goods_sku_id:this.goods_sku_id2,token:this.token},method:"POST",success:function(s){console.log(o(s," at pages\\details\\details.vue:390")),1==s.data.code?t.showToast({title:"购物车添加成功",icon:"none"}):0==s.data.code&&t.showToast({title:"很抱歉，商品库存不足",icon:"none"})}})):t.showToast({title:"请选择商品属性",icon:"none",position:"bottom"})},goplay:function(){this.details.specData&&0==this.goods_price1?t.showToast({title:"请选择商品属性",icon:"none",position:"bottom"}):(this.openPopup=!1,t.navigateTo({url:"/pages/payment/payment?goods_id="+this.goods_id+"&goods_num="+this.goods_num1}))}},onLoad:function(s){this.token=t.getStorageSync("token"),this.goods_id=s.goods_id,this.host=this.$store.state.host,this.imghost=this.$store.state.imghost,this.getOneGoods()}};s.default=n}).call(this,e("6e42")["default"],e("0de9")["default"])},e3b4:function(t,s,e){"use strict";(function(t){e("dbc6"),e("921b");o(e("66fd"));var s=o(e("fc7e"));function o(t){return t&&t.__esModule?t:{default:t}}t(s.default)}).call(this,e("6e42")["createPage"])},fc7e:function(t,s,e){"use strict";e.r(s);var o=e("072e"),i=e("59eb");for(var n in i)"default"!==n&&function(t){e.d(s,t,function(){return i[t]})}(n);e("34af");var c=e("2877"),d=Object(c["a"])(i["default"],o["a"],o["b"],!1,null,null,null);s["default"]=d.exports}},[["e3b4","common/runtime","common/vendor"]]]);